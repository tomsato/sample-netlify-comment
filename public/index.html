<html>
<body>
<div>
  <p>コメント入力フォーム</p>
  <form name="sampleCommentForm" method="post" netlify-honeypot="bot-field" netlify>
    <p>
      <label>Name: <input type="text" name="name" /></label>
    </p>
    <p>
      <label>Email(任意): <input type="email" name="email" /></label>
    </p>
    <p>
      <label>Message: <textarea name="content"></textarea></label>
    </p>
    <p style="display:none;">
      <label>Bot Field(ここに値が入るとスポム判定する): <input name="bot-field"/></label>
    </p>
    <div>
      <button type="submit">Send</button>
      <p>※ コメントは承認されると表示されます</p>
      <input type="hidden" name="path" value="index.html">
      <input type="hidden" name="pageKey" value="1">
    </div>
  </form>
</div>
<br>
<div>
  <p>承認されたコメント一覧</p>
  <ul id="approvalCommentsList"></ul>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script language="javascript" type="text/javascript">
const url = '/_data/sampleApprovedComments_submissions.json'

$.getJSON(url, (json) => {
  for (let i = 0; i < json.length; i++) {
    $('#approvalCommentsList').append(`<li>Name: ${json[i].data.name}, Message: ${json[i].data.content}</li>`)
  }
})
</script>
</body>
</html>
